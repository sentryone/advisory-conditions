{"ID":"927db027-82b5-4129-a13f-5628d347543b","VersionNumber":1,"Name":"Total VertiPaq Memory Exceeds VertiPaq Limit","Description":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n\t<head>\r\n\t\t<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /><title>\r\n\t\t</title>\r\n\t\t<style type=\"text/css\">\r\n\t\t\t.cs2654AE3A{text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt}\r\n\t\t\t.csBEC5BAA2{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:normal;}\r\n\t\t\t.cs6BD174F1{color:#000000;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:normal;text-decoration: none;}\r\n\t\t\t.csC1A17A41{color:#0000FF;background-color:transparent;font-family:Tahoma;font-size:8pt;font-weight:normal;font-style:normal;text-decoration: underline;}\r\n\t\t</style>\r\n\t</head>\r\n\t<body>\r\n\t\t<p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">With the default paging policy for SSAS Tabular set to 1, paging is allowed. This means that if the memory required for the VertiPaq storage engine exceeds the configured VertiPaq memory limit, data can be paged to the Windows page file. Similarly, a setting of 2 allows utilizing a memory-mapped file. While these files may take advantage of operating system file cache, it is still less efficient than storing the data as nonpaged VertiPaq memory. Increasing the VertiPaq Memory Limit setting in your Analysis Server properties is recommended if this issue persists. </span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">&nbsp;</span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">To determine a proper limit, detect the largest consumers of memory, then allow another 2 - 3x for processing overhead, etc. Be sure to consider the other SSAS memory limit settings, which apply to both Tabular and Multidimentional modes.</span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">&nbsp;</span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">For more details, see the Microsoft technical article at : <a class=\"cs6BD174F1\" href=\"https://msdn.microsoft.com/en-us/library/dn393915.aspx\"><span class=\"csC1A17A41\">Performance Tuning of Tabular Models</span></a></span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">Note this conditons supports SSAS 2012, other conditions are available for support of other versions of SSAS.</span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">&nbsp;</span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">Be aware, a known <a class=\"cs6BD174F1\" href=\"https://connect.microsoft.com/SQLServer/feedback/details/786054/tabular-instance-perfmon-counters-memory-vertipaq-kb-always-0\"><span class=\"csC1A17A41\">bug</span></a></span><span class=\"csBEC5BAA2\"> in SSAS can prevent these counters from returning values on SQL Server 2012 SP1. </span></p><p class=\"cs2654AE3A\"><span class=\"csBEC5BAA2\">&nbsp;</span></p></body>\r\n</html>\r\n","AppliesToObjectTypeID":"e36b8309-c5d3-4af7-b604-e8b39e0cb25a","ConditionCategoryID":"805a84c9-7f1b-4b4d-a9ad-3dddcf9e0f17","OwnerObjectID":"b7c74f24-1a45-4115-8262-d7613878bbd6","OwnerObjectTypeID":"894de672-3fc0-4779-9a0d-880d4c207c77","RuleDefinition":"{\"OperationTypeID\":\"6c3d38f1-9317-4258-972a-cfee0a0d76b5\",\"Children\":[{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"2c6a4447-6aae-4a3f-94ec-854e5658775e\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":2,\"CounterID\":5177,\"CounterName\":\"VertiPaq Nonpaged KB\",\"CategoryName\":\"SSAS:Memory\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ArithmeticCompoundValueOperationType\":0,\"Right\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":2,\"CounterID\":5176,\"CounterName\":\"VertiPaq Paged KB\",\"CategoryName\":\"SSAS:Memory\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null}},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":2,\"CounterID\":5179,\"CounterName\":\"Memory Limit VertiPaq KB\",\"CategoryName\":\"SSAS:Memory\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ID\":\"1\"}],\"BooleanOperationType\":0,\"ID\":\"0\"}","EvaluationFrequency":"00:00:30","IdlePeriod":"00:00:30","MaximumAllowedDuration":"00:00:05","AntiConditionID":"936dd8fb-3c52-454c-8666-554fad03a55f","MinWindowsVersion":null,"MaxWindowsVersion":null,"MinSQLServerVersion":null,"MaxSQLServerVersion":null,"MinSSASVersion":"","MaxSSASVersion":"","MinVmwareVersion":null,"MaxVmwareVersion":null,"MinSqlDbVersion":null,"MaxSqlDbVersion":null,"MaximumInstanceCount":1,"ColorIndicator":null,"Severity":1,"Signature":{"ConditionID":"927db027-82b5-4129-a13f-5628d347543b","VersionNumber":1,"AppliesToObjectTypeID":"e36b8309-c5d3-4af7-b604-e8b39e0cb25a","RuleDefinition":"{\"OperationTypeID\":\"6c3d38f1-9317-4258-972a-cfee0a0d76b5\",\"Children\":[{\"OperationTypeID\":\"8fa3cd6a-960c-43bb-96e0-94092fc2c296\",\"ValueDataTypeID\":\"b35a57f5-b8f6-4e4e-9380-e9d328e3eabf\",\"Left\":{\"ValueTypeID\":\"2c6a4447-6aae-4a3f-94ec-854e5658775e\",\"Left\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":2,\"CounterID\":5177,\"CounterName\":\"VertiPaq Nonpaged KB\",\"CategoryName\":\"SSAS:Memory\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ArithmeticCompoundValueOperationType\":0,\"Right\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":2,\"CounterID\":5176,\"CounterName\":\"VertiPaq Paged KB\",\"CategoryName\":\"SSAS:Memory\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null}},\"ComparisonType\":2,\"Right\":{\"ValueTypeID\":\"958b13fe-3149-4ee0-9104-edc0012f7566\",\"PerformanceCategoryType\":2,\"CounterID\":5179,\"CounterName\":\"Memory Limit VertiPaq KB\",\"CategoryName\":\"SSAS:Memory\",\"InstanceType\":0,\"InstanceName\":null,\"PerformanceCounterValueRetrievalType\":0,\"BaselineAggregationMode\":null,\"CustomBaselineID\":null,\"GlobalBaselineName\":null},\"ID\":\"1\"}],\"BooleanOperationType\":0,\"ID\":\"0\"}","PublisherID":0,"PublishDateUtc":"2021-03-03T15:52:31","Rights":0,"SignatureVersion":1,"SignaturePublicKey":"<RSAKeyValue><Modulus>uzJQ9gzevXFwOgw/hkcAtD+cA/bBbD1PRzhEZCxbZ6YwjJ1c9bbfXFItLQNwnm8bdWh2k57//qbpEj5DFHOW2EAjHc2Zw5m/vACm6OzelubPS5hbWvzshlaBJKm7KrpWQpPZClx/5eVvUVzOtlz+44RRTiOszObT58acJAQwA70=</Modulus><Exponent>AQAB</Exponent></RSAKeyValue>","Signature":"pshlbHWa4fIintlb9Am3pq08XMU8u0Fj3qRCZHSmfb2ZJRUWgt6pD7B5eSDMtB4IXdk68Yh/8Vj6YTpYPUnJX7U2lT8+UbIAdApq3FqHJ898c2JT8tWtYGZ7Npv4D6CeuN4g9DhnplYY8gjmCaKmFRb5qWGGPnQphF0kZ7RVX4g=","IsSelfPublishedCondition":true},"Tags":"S1-Published via Blog Post","Areas":[],"ConditionSystemVersion":3,"MinDBSchemaVersion":null,"MaxDBSchemaVersion":null,"Items":[]}